export DIRENV_WARN_TIMEOUT=20s
eval "$(devenv direnvrc)"

# Override the function that reads watches to do nothing
_devenv_watches() {
  local path=$1
  local -n _watches=$2
  # Intentionally empty - don't add any watches
  return 0
}

use devenv

# Only watch what we want
watch_file devenv.nix
watch_file devenv.lock
watch_file ./nix/rust.nix
